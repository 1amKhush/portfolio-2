<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Understanding Distributed Hash Tables (DHT): An exploration of how DHTs work, their role in decentralized systems, and how they enable peer discovery without central servers."
    />
    <meta name="theme-color" content="#070a13" />

    <!-- Preconnect for fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <title>Understanding Distributed Hash Tables (DHT) | Khushvendra</title>

    <style>
      /* DHT-specific visual components */
      .dht-visual {
        background: linear-gradient(135deg, rgba(6, 182, 212, 0.1), rgba(99, 102, 241, 0.1));
        border: 1px solid rgba(99, 102, 241, 0.3);
        border-radius: 16px;
        padding: 2rem;
        margin: 2rem 0;
        position: relative;
        overflow: hidden;
      }

      .dht-visual::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
        animation: pulse-slow 4s ease-in-out infinite;
      }

      @keyframes pulse-slow {
        0%, 100% { opacity: 0.5; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.1); }
      }

      .festival-scenario {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
      }

      .scenario-card {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 1.25rem;
        text-align: center;
        transition: all 0.3s ease;
      }

      .scenario-card:hover {
        transform: translateY(-4px);
        border-color: rgba(99, 102, 241, 0.5);
      }

      .scenario-card.winner {
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(6, 182, 212, 0.15));
        border-color: rgba(34, 197, 94, 0.4);
      }

      .scenario-card__icon {
        font-size: 2rem;
        margin-bottom: 0.75rem;
      }

      .scenario-card__title {
        font-weight: 600;
        color: var(--clr-light);
        margin-bottom: 0.5rem;
      }

      .scenario-card__desc {
        font-size: 0.875rem;
        color: var(--clr-slate400);
      }

      /* DHT Network Visualization */
      .dht-network {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 280px;
        position: relative;
        margin: 2rem 0;
      }

      .dht-node {
        position: absolute;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: var(--font-heading);
        font-weight: 600;
        font-size: 0.75rem;
        color: var(--clr-light);
        transition: all 0.3s ease;
        z-index: 2;
      }

      .dht-node:hover {
        transform: scale(1.15);
        z-index: 10;
      }

      .dht-node--center {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        box-shadow: 0 0 30px rgba(99, 102, 241, 0.4);
      }

      .dht-node--peer {
        background: linear-gradient(135deg, #06b6d4, #0891b2);
        box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
      }

      .dht-node--data {
        background: linear-gradient(135deg, #22c55e, #16a34a);
        box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
        width: 50px;
        height: 50px;
        font-size: 0.65rem;
      }

      .dht-connection {
        position: absolute;
        background: linear-gradient(90deg, rgba(99, 102, 241, 0.3), rgba(6, 182, 212, 0.3));
        height: 2px;
        transform-origin: left center;
        z-index: 1;
      }

      /* Flow diagram styling */
      .flow-diagram {
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.6));
        border: 1px solid var(--glass-border);
        border-radius: 16px;
        padding: 2rem;
        margin: 2rem 0;
        font-family: 'Fira Code', 'JetBrains Mono', monospace;
      }

      .flow-diagram__title {
        font-family: var(--font-heading);
        font-size: 1rem;
        font-weight: 600;
        color: var(--clr-cyan);
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .flow-diagram__title::before {
        content: '‚ñ∂';
        font-size: 0.75rem;
      }

      .flow-step {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        margin-bottom: 1rem;
        padding-left: 1rem;
      }

      .flow-step__number {
        flex-shrink: 0;
        width: 28px;
        height: 28px;
        background: var(--gradient-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        font-weight: 700;
        color: white;
      }

      .flow-step__content {
        flex: 1;
      }

      .flow-step__main {
        color: var(--clr-light);
        font-size: 0.95rem;
        margin-bottom: 0.25rem;
      }

      .flow-step__sub {
        color: var(--clr-slate400);
        font-size: 0.8rem;
        padding-left: 1rem;
        border-left: 2px solid rgba(99, 102, 241, 0.3);
        margin-top: 0.5rem;
      }

      .flow-step__sub p {
        margin: 0.25rem 0;
      }

      .flow-step__code {
        background: rgba(0, 0, 0, 0.3);
        color: #22d3ee;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.8rem;
        display: inline-block;
        margin-top: 0.25rem;
      }

      /* XOR Distance visualization */
      .xor-demo {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1.5rem 0;
        font-family: 'Fira Code', monospace;
      }

      .xor-row {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin: 0.5rem 0;
        flex-wrap: wrap;
      }

      .xor-label {
        color: var(--clr-slate400);
        min-width: 80px;
        font-size: 0.875rem;
      }

      .xor-value {
        color: var(--clr-cyan);
        font-weight: 600;
        letter-spacing: 0.05em;
      }

      .xor-result {
        color: #22c55e;
        font-weight: 700;
      }

      /* Bucket visualization */
      .bucket-viz {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        margin: 1.5rem 0;
      }

      .bucket {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 8px;
        transition: all 0.3s ease;
      }

      .bucket:hover {
        border-color: rgba(99, 102, 241, 0.5);
        background: rgba(99, 102, 241, 0.1);
      }

      .bucket__number {
        width: 32px;
        height: 32px;
        background: var(--gradient-primary);
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.875rem;
        color: white;
      }

      .bucket__label {
        flex: 1;
        color: var(--clr-light);
        font-size: 0.9rem;
      }

      .bucket__nodes {
        display: flex;
        gap: 0.25rem;
      }

      .bucket__node-dot {
        width: 8px;
        height: 8px;
        background: var(--clr-cyan);
        border-radius: 50%;
        opacity: 0.7;
      }

      /* Comparison Table Enhancement */
      .comparison-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
        margin: 2rem 0;
      }

      @media (max-width: 600px) {
        .comparison-grid {
          grid-template-columns: 1fr;
        }
      }

      .comparison-card {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 16px;
        padding: 1.5rem;
        transition: all 0.3s ease;
      }

      .comparison-card:hover {
        transform: translateY(-4px);
      }

      .comparison-card--central {
        border-color: rgba(244, 63, 94, 0.3);
      }

      .comparison-card--central:hover {
        border-color: rgba(244, 63, 94, 0.6);
      }

      .comparison-card--dht {
        border-color: rgba(34, 197, 94, 0.3);
      }

      .comparison-card--dht:hover {
        border-color: rgba(34, 197, 94, 0.6);
      }

      .comparison-card__header {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 1rem;
      }

      .comparison-card__icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.25rem;
      }

      .comparison-card--central .comparison-card__icon {
        background: rgba(244, 63, 94, 0.2);
      }

      .comparison-card--dht .comparison-card__icon {
        background: rgba(34, 197, 94, 0.2);
      }

      .comparison-card__title {
        font-family: var(--font-heading);
        font-weight: 600;
        color: var(--clr-light);
      }

      .comparison-card__list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .comparison-card__list li {
        display: flex;
        align-items: flex-start;
        gap: 0.5rem;
        padding: 0.5rem 0;
        font-size: 0.9rem;
        color: var(--clr-slate300);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }

      .comparison-card__list li:last-child {
        border-bottom: none;
      }

      .comparison-card--central .comparison-card__list li::before {
        content: '‚úó';
        color: #f43f5e;
        font-weight: bold;
      }

      .comparison-card--dht .comparison-card__list li::before {
        content: '‚úì';
        color: #22c55e;
        font-weight: bold;
      }

      /* Gotcha cards */
      .gotcha-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
      }

      .gotcha-card {
        background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05));
        border: 1px solid rgba(251, 191, 36, 0.3);
        border-radius: 12px;
        padding: 1.25rem;
      }

      .gotcha-card__title {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
        color: #fbbf24;
        margin-bottom: 0.75rem;
        font-size: 0.95rem;
      }

      .gotcha-card__title::before {
        content: '‚ö†';
      }

      .gotcha-card__desc {
        font-size: 0.875rem;
        color: var(--clr-slate300);
        line-height: 1.6;
      }

      /* Aha moment callout */
      .aha-callout {
        background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(99, 102, 241, 0.1));
        border: 1px solid rgba(168, 85, 247, 0.4);
        border-radius: 16px;
        padding: 2rem;
        margin: 2rem 0;
        position: relative;
      }

      .aha-callout::before {
        content: 'üí°';
        position: absolute;
        top: -15px;
        left: 20px;
        font-size: 1.75rem;
        background: var(--clr-background);
        padding: 0 0.5rem;
      }

      .aha-callout__title {
        font-family: var(--font-heading);
        font-size: 1.25rem;
        font-weight: 700;
        color: #c084fc;
        margin-bottom: 1rem;
      }

      .aha-callout p {
        color: var(--clr-slate300);
        margin: 0.75rem 0;
        line-height: 1.7;
      }

      /* Resources grid */
      .resources-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
      }

      .resource-card {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 1.25rem;
        text-decoration: none;
        transition: all 0.3s ease;
        display: block;
      }

      .resource-card:hover {
        transform: translateY(-4px);
        border-color: rgba(99, 102, 241, 0.5);
        background: rgba(99, 102, 241, 0.1);
      }

      .resource-card__title {
        font-weight: 600;
        color: var(--clr-light);
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
      }

      .resource-card__desc {
        font-size: 0.8rem;
        color: var(--clr-slate400);
        line-height: 1.5;
      }

      .resource-card__link {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        margin-top: 0.75rem;
        font-size: 0.8rem;
        color: var(--clr-indigo-light);
      }

      .resource-card__link::after {
        content: '‚Üí';
        transition: transform 0.2s ease;
      }

      .resource-card:hover .resource-card__link::after {
        transform: translateX(4px);
      }

      /* Bootstrap steps */
      .bootstrap-steps {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        margin: 1.5rem 0;
      }

      .bootstrap-step {
        display: flex;
        gap: 1rem;
        align-items: flex-start;
        padding: 1rem 1.25rem;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        transition: all 0.3s ease;
      }

      .bootstrap-step:hover {
        border-color: rgba(6, 182, 212, 0.5);
      }

      .bootstrap-step__icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #06b6d4, #0891b2);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        font-size: 1.1rem;
      }

      .bootstrap-step__content h4 {
        color: var(--clr-light);
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .bootstrap-step__content p {
        color: var(--clr-slate400);
        font-size: 0.875rem;
        line-height: 1.6;
        margin: 0;
      }

      /* Quote styling */
      .quote-block {
        border-left: 4px solid var(--clr-indigo-light);
        padding-left: 1.5rem;
        margin: 2rem 0;
        font-style: italic;
        color: var(--clr-slate300);
      }

      .quote-block em {
        color: var(--clr-slate200);
      }
    </style>
  </head>
  <body>
    <!-- Particle Canvas Background -->
    <canvas id="particles-canvas"></canvas>

    <header class="header container">
      <nav>
        <a href="index.html" class="header__logo">
          <span class="header__logo-icon">K</span>
        </a>
        <ul class="header__menu">
          <li>
            <a class="header__link" href="index.html#about">About</a>
          </li>
          <li>
            <a class="header__link" href="index.html#featured">Projects</a>
          </li>
          <li>
            <a class="header__link header__link--active" href="blog.html"
              >Blog</a
            >
          </li>
          <li>
            <a class="header__link" href="index.html#contact">Contact</a>
          </li>
          <li class="header__line"></li>
          <li>
            <a class="header__resume btn" href="public/Khushvendra_s_resume.pdf"
              >Resume</a
            >
          </li>
        </ul>
        <button aria-label="mobile nav button" class="header__bars">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z"
              clip-rule="evenodd"
            />
          </svg>
        </button>
      </nav>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-nav">
      <nav>
        <ul class="mobile-nav__menu">
          <li>
            <a class="mobile-nav__link" href="index.html#about">About</a>
          </li>
          <li>
            <a class="mobile-nav__link" href="index.html#featured">Work</a>
          </li>
          <li>
            <a
              class="mobile-nav__link mobile-nav__link--active"
              href="blog.html"
              >Blog</a
            >
          </li>
          <li>
            <a class="mobile-nav__link" href="index.html#contact">Contact</a>
          </li>
          <li class="mobile-nav__link-line"></li>
          <li>
            <a
              class="mobile-nav__btn btn"
              href="public/Khushvendra_s_resume.pdf"
              >Resume</a
            >
          </li>
        </ul>
      </nav>
    </div>

    <main>
      <article class="blog-post container">
        <!-- Back Navigation -->
        <a href="blog.html" class="blog-post__back">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
            />
          </svg>
          Back to Blog
        </a>

        <!-- Post Header -->
        <header class="blog-post__header">
          <div class="blog-post__meta">
            <span class="blog-post__category blog-post__category--learning">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"
                />
              </svg>
              Learning
            </span>
            <span class="blog-post__date">Jan 8, 2026</span>
            <span class="blog-post__read-time">6 min read</span>
          </div>
          <h1 class="blog-post__title">
            Understanding Distributed Hash Tables (DHT)
          </h1>
          <p class="blog-post__subtitle">
            An exploration of how DHTs work, their role in decentralized systems, and how they enable peer discovery without central servers. Includes practical examples from libp2p.
          </p>
          <div class="blog-post__tags">
            <span class="blog-post__tag">Networking</span>
            <span class="blog-post__tag">Distributed Systems</span>
            <span class="blog-post__tag">P2P</span>
          </div>
        </header>

        <!-- Post Content -->
        <div class="blog-post__content">
          
          <h2>The "Where Do I Find That?" Problem</h2>
          <p>
            Picture this: You're at a massive music festival with 50,000 people. You need to find your friend Alex. No cell service. No announcements. What do you do?
          </p>

          <div class="festival-scenario">
            <div class="scenario-card">
              <div class="scenario-card__icon">üé≤</div>
              <div class="scenario-card__title">Option A: Random Walk</div>
              <div class="scenario-card__desc">Wander around randomly hoping to bump into them. Good luck with that.</div>
            </div>
            <div class="scenario-card">
              <div class="scenario-card__icon">üè¢</div>
              <div class="scenario-card__title">Option B: Central Booth</div>
              <div class="scenario-card__desc">Everyone registers at one info booth. Works great... until 50,000 people queue up.</div>
            </div>
            <div class="scenario-card winner">
              <div class="scenario-card__icon">üåê</div>
              <div class="scenario-card__title">Option C: Smart System</div>
              <div class="scenario-card__desc">People with 'A' names help find Alex. They know who might know more.</div>
            </div>
          </div>

          <p>
            That third option? That's basically how a DHT works. And it's the backbone of how Torrentium finds peers without a central server.
          </p>

          <h2>So What Exactly Is a DHT?</h2>
          <p>
            A Distributed Hash Table is, at its core, <strong>a giant shared address book that nobody fully owns.</strong>
          </p>
          <p>
            Instead of one computer storing all the information (like a traditional database), the data is spread across thousands of computers. Each computer holds a small piece of the puzzle. When you need to find something, you ask around‚Äîbut in a very smart, organized way.
          </p>
          <p>
            The "hash table" part comes from how data is organized. Every piece of information gets a unique ID (a hash). This ID determines which computers are responsible for knowing about it.
          </p>

          <div class="dht-visual">
            <p style="position: relative; z-index: 2; margin: 0;">
              <strong style="color: var(--clr-light);">Think of it like a library where:</strong>
            </p>
            <ul style="position: relative; z-index: 2;">
              <li>Books aren't on central shelves</li>
              <li>Each librarian is responsible for books with call numbers close to their employee ID</li>
              <li>To find a book, you ask librarians with similar IDs, and they point you closer and closer until you find it</li>
            </ul>
            <p style="position: relative; z-index: 2; margin-bottom: 0;">
              <em>Weird system for a library. Perfect system for a decentralized network.</em>
            </p>
          </div>

          <h2>The Kademlia Algorithm</h2>
          <p>
            Most modern DHTs use something called <strong>Kademlia</strong>. It's named after some Greek word meaning "good path" or something‚Äîhonestly, I had to look that up. What matters is how it works.
          </p>

          <h3>The Key Insight: XOR Distance</h3>
          <p>
            In Kademlia, every node (computer) and every piece of content has an ID‚Äîjust a long number. To figure out how "close" two IDs are, you XOR them together.
          </p>
          <p>
            Now, I could explain XOR in detail, but here's what actually matters: it gives us a consistent way to measure "distance" in the network. Two IDs that are numerically close aren't necessarily "close" in XOR distance. It's like a parallel universe where geography works differently.
          </p>

          <div class="xor-demo">
            <div class="xor-row">
              <span class="xor-label">Node A:</span>
              <span class="xor-value">1010</span>
            </div>
            <div class="xor-row">
              <span class="xor-label">Node B:</span>
              <span class="xor-value">1100</span>
            </div>
            <div class="xor-row">
              <span class="xor-label">XOR Result:</span>
              <span class="xor-result">0110</span>
              <span style="color: var(--clr-slate400); margin-left: 1rem;">‚Üê This is the "distance"</span>
            </div>
          </div>

          <p>
            Why does this matter? Because every computer only needs to keep detailed knowledge about nodes "close" to it, and rough knowledge about nodes far away. This keeps everyone's address book manageable.
          </p>

          <h3>The Routing Table</h3>
          <p>Each node maintains contacts in "buckets":</p>

          <div class="bucket-viz">
            <div class="bucket">
              <span class="bucket__number">0</span>
              <span class="bucket__label">Very close nodes (share most ID bits)</span>
              <div class="bucket__nodes">
                <span class="bucket__node-dot"></span>
                <span class="bucket__node-dot"></span>
                <span class="bucket__node-dot"></span>
              </div>
            </div>
            <div class="bucket">
              <span class="bucket__number">1</span>
              <span class="bucket__label">Slightly farther nodes</span>
              <div class="bucket__nodes">
                <span class="bucket__node-dot"></span>
                <span class="bucket__node-dot"></span>
              </div>
            </div>
            <div class="bucket">
              <span class="bucket__number">...</span>
              <span class="bucket__label">Progressively more distant nodes</span>
              <div class="bucket__nodes">
                <span class="bucket__node-dot"></span>
              </div>
            </div>
          </div>

          <p>
            When you're looking for something, you start by asking your closest contacts. They point you to their closest contacts. A few hops later, you've found what you're looking for.
          </p>
          <p>
            <strong>The magic number?</strong> In a network of a million nodes, you typically find anything in about <strong>20 hops</strong>. In a network of a billion? About <strong>30 hops</strong>. It scales <em>ridiculously</em> well.
          </p>

          <h2>How Torrentium Uses DHT for Peer Discovery</h2>
          <p>Okay, theory is great. Let me show you how this actually works in Torrentium.</p>

          <div class="flow-diagram">
            <div class="flow-diagram__title">When You Share a File</div>
            <div class="flow-step">
              <span class="flow-step__number">1</span>
              <div class="flow-step__content">
                <div class="flow-step__main">File gets a unique ID (CID) based on its content</div>
                <div class="flow-step__code">"bafybeigdyrzt5sfp7udm7hu76uh7y26nf3..."</div>
              </div>
            </div>
            <div class="flow-step">
              <span class="flow-step__number">2</span>
              <div class="flow-step__content">
                <div class="flow-step__main">Torrentium announces: "I have this CID!"</div>
                <div class="flow-step__sub">
                  <p>‚Üí Finds nodes whose IDs are close to the CID</p>
                  <p>‚Üí Tells them: "If anyone asks, here's my address"</p>
                </div>
              </div>
            </div>
            <div class="flow-step">
              <span class="flow-step__number">3</span>
              <div class="flow-step__content">
                <div class="flow-step__main">Those nodes store your announcement</div>
                <div class="flow-step__sub">
                  <p>‚Üí They become "providers" of that information</p>
                </div>
              </div>
            </div>
          </div>

          <div class="flow-diagram">
            <div class="flow-diagram__title">When Someone Wants That File</div>
            <div class="flow-step">
              <span class="flow-step__number">1</span>
              <div class="flow-step__content">
                <div class="flow-step__main">They have the CID (you sent it to them somehow)</div>
                <div class="flow-step__code">"bafybeigdyrzt5sfp7udm7hu76uh7y26nf3..."</div>
              </div>
            </div>
            <div class="flow-step">
              <span class="flow-step__number">2</span>
              <div class="flow-step__content">
                <div class="flow-step__main">They ask: "Who has this?"</div>
                <div class="flow-step__sub">
                  <p>‚Üí Query travels through the DHT</p>
                  <p>‚Üí Reaches nodes responsible for that CID</p>
                </div>
              </div>
            </div>
            <div class="flow-step">
              <span class="flow-step__number">3</span>
              <div class="flow-step__content">
                <div class="flow-step__main">Those nodes respond: "This person has it!"</div>
                <div class="flow-step__sub">
                  <p>‚Üí Returns your address</p>
                </div>
              </div>
            </div>
            <div class="flow-step">
              <span class="flow-step__number">4</span>
              <div class="flow-step__content">
                <div class="flow-step__main">Direct connection happens</div>
                <div class="flow-step__sub">
                  <p>‚Üí File transfer begins, no central server involved</p>
                </div>
              </div>
            </div>
          </div>

          <p>
            The whole lookup usually takes <strong>2-5 seconds</strong>. Not instant, but considering we just searched a global network without any central coordination... that's pretty impressive.
          </p>

          <h2>The libp2p Implementation</h2>
          <p>
            Torrentium uses <a href="https://libp2p.io/" target="_blank" rel="noopener">libp2p</a>, the same networking stack that powers IPFS, Filecoin, and a bunch of other decentralized projects. Their DHT implementation handles a lot of the messy details.
          </p>
          <p>Here's what happens under the hood when we bootstrap into the network:</p>

          <div class="bootstrap-steps">
            <div class="bootstrap-step">
              <div class="bootstrap-step__icon">üîó</div>
              <div class="bootstrap-step__content">
                <h4>Step 1: Connect to Bootstrap Nodes</h4>
                <p>When Torrentium starts, it connects to a few well-known nodes. These are just regular nodes that happen to be publicly reachable. Think of them as the "known attendees" at our festival who can introduce us to others.</p>
              </div>
            </div>
            <div class="bootstrap-step">
              <div class="bootstrap-step__icon">üìã</div>
              <div class="bootstrap-step__content">
                <h4>Step 2: Fill Our Routing Table</h4>
                <p>Once connected, we start learning about other nodes. Every time we interact with a node, we might add them to our routing table. Over a few minutes, we build up a solid view of the network.</p>
              </div>
            </div>
            <div class="bootstrap-step">
              <div class="bootstrap-step__icon">üì¢</div>
              <div class="bootstrap-step__content">
                <h4>Step 3: Announce Our Content</h4>
                <p>For every file we're sharing, we make an announcement. libp2p's DHT handles finding the right nodes to tell and refreshing the announcement periodically (since nodes come and go).</p>
              </div>
            </div>
            <div class="bootstrap-step">
              <div class="bootstrap-step__icon">ü§ù</div>
              <div class="bootstrap-step__content">
                <h4>Step 4: Handle Queries</h4>
                <p>When other nodes ask us about content we're responsible for (IDs close to ours), we respond. It's a community effort‚Äîeveryone contributes to the lookup system.</p>
              </div>
            </div>
          </div>

          <h2>Why Not Just Use a Central Server?</h2>
          <p>
            I get this question a lot. "Why go through all this trouble? Just run a server!"
          </p>
          <p>Fair point. Here's my counter-argument:</p>

          <div class="comparison-grid">
            <div class="comparison-card comparison-card--central">
              <div class="comparison-card__header">
                <div class="comparison-card__icon">üè¢</div>
                <div class="comparison-card__title">Central Server</div>
              </div>
              <ul class="comparison-card__list">
                <li>Server dies = everything dies</li>
                <li>More users = more server costs</li>
                <li>Easy to block one server</li>
                <li>You trust the server operator</li>
                <li>Everyone talks to one place (bottleneck)</li>
              </ul>
            </div>
            <div class="comparison-card comparison-card--dht">
              <div class="comparison-card__header">
                <div class="comparison-card__icon">üåê</div>
                <div class="comparison-card__title">DHT</div>
              </div>
              <ul class="comparison-card__list">
                <li>Thousands of nodes can fail, network survives</li>
                <li>More users = more capacity (they become nodes!)</li>
                <li>Good luck blocking thousands of random IPs</li>
                <li>You only trust math</li>
                <li>Queries route efficiently through the network</li>
              </ul>
            </div>
          </div>

          <p>
            For Torrentium, the DHT means I don't need to run expensive infrastructure. <strong>Users <em>are</em> the infrastructure.</strong> The more people use it, the more robust it becomes. That's a beautiful property that centralized systems can never have.
          </p>

          <h2>The Gotchas (Because Nothing Is Perfect)</h2>
          <p>Let's be honest about the downsides:</p>

          <div class="gotcha-grid">
            <div class="gotcha-card">
              <div class="gotcha-card__title">Bootstrap Problem</div>
              <div class="gotcha-card__desc">You need to know <em>someone</em> to join the network. If all bootstrap nodes are down, new users can't join. We mitigate this with multiple fallback bootstraps.</div>
            </div>
            <div class="gotcha-card">
              <div class="gotcha-card__title">Churn</div>
              <div class="gotcha-card__desc">Nodes join and leave constantly. That announcement you made? The nodes storing it might go offline. Solution: re-announce periodically.</div>
            </div>
            <div class="gotcha-card">
              <div class="gotcha-card__title">Lookup Latency</div>
              <div class="gotcha-card__desc">2-5 seconds to find content isn't instant. For file sharing, it's fine. For real-time applications, you might need additional tricks.</div>
            </div>
            <div class="gotcha-card">
              <div class="gotcha-card__title">Eclipse Attacks</div>
              <div class="gotcha-card__desc">If an attacker controls all nodes "close" to a particular ID, they can poison lookups. Modern DHTs have protections, but it's a real concern.</div>
            </div>
          </div>

          <h2>The "Aha!" Moment</h2>

          <div class="aha-callout">
            <div class="aha-callout__title">Here's what blew my mind when I first really understood DHTs:</div>
            <p>
              <strong>There is no master copy of the hash table.</strong> There's no computer that has the complete picture. Every node has a partial, biased view of the network‚Äîheavily detailed near its own ID, sketchy about distant regions.
            </p>
            <p>
              And yet, through the simple rules of "ask nodes close to what you're looking for," information flows correctly. Millions of computers, each following simple local rules, together form a coherent global system.
            </p>
            <p>
              It's like watching an ant colony. No ant knows the master plan. But somehow, the colony builds complex structures, finds food, and defends itself. <em>Emergent behavior from simple rules.</em>
            </p>
            <p style="margin-bottom: 0;">
              <strong>That's a DHT. And that's why I find distributed systems endlessly fascinating.</strong>
            </p>
          </div>

          <h2>Want to Dig Deeper?</h2>
          <p>If you want to explore more:</p>

          <div class="resources-grid">
            <a href="https://pdos.csail.mit.edu/~petar/papers/maymounkov-kademlia-lncs.pdf" target="_blank" rel="noopener" class="resource-card">
              <div class="resource-card__title">The Original Kademlia Paper</div>
              <div class="resource-card__desc">Academic but readable, the paper that started it all</div>
              <div class="resource-card__link">Read Paper</div>
            </a>
            <a href="https://github.com/libp2p/specs/tree/master/kad-dht" target="_blank" rel="noopener" class="resource-card">
              <div class="resource-card__title">libp2p DHT Spec</div>
              <div class="resource-card__desc">How libp2p implements Kademlia</div>
              <div class="resource-card__link">View Spec</div>
            </a>
            <a href="https://docs.ipfs.io/concepts/dht/" target="_blank" rel="noopener" class="resource-card">
              <div class="resource-card__title">IPFS Documentation</div>
              <div class="resource-card__desc">Practical DHT usage in IPFS</div>
              <div class="resource-card__link">Read Docs</div>
            </a>
            <a href="https://kelseyc18.github.io/kademlia_vis/viz/" target="_blank" rel="noopener" class="resource-card">
              <div class="resource-card__title">Visualizing Kademlia</div>
              <div class="resource-card__desc">Interactive visualization that makes XOR distance click</div>
              <div class="resource-card__link">Try It</div>
            </a>
          </div>

          <h2>Wrapping Up</h2>
          <p>
            Distributed Hash Tables are one of those concepts that sound intimidating but are actually beautifully simple once you get the core idea:
          </p>
          <ol>
            <li><strong>Spread data across many nodes</strong> based on ID similarity</li>
            <li><strong>Route queries</strong> by asking nodes progressively closer to the target</li>
            <li><strong>Everyone participates</strong> ‚Äî there's no special "server" role</li>
          </ol>
          <p>
            For Torrentium, the DHT is what makes true decentralization possible. No tracking servers, no central points of failure, no infrastructure costs that scale with users. Just a clever algorithm and a network of peers helping each other find what they're looking for.
          </p>
          <p>Kind of like that music festival, except this system actually works.</p>

          <div class="quote-block">
            <p>
              <em>Next time you download something from a P2P network, remember: your computer just participated in a global, decentralized lookup system that would make any database administrator weep with either admiration or frustration. Probably both.</em>
            </p>
          </div>

          <!-- CTA Box -->
          <div class="blog-post__cta">
            <h3>Want to see DHT in action?</h3>
            <p>
              Check out Torrentium - my P2P file sharing app powered by DHT peer discovery.
            </p>
            <div class="blog-post__cta-links">
              <a
                href="https://github.com/1amKhush/torrentium"
                class="btn"
                target="_blank"
                rel="noopener"
              >
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                  />
                </svg>
                View Torrentium on GitHub
              </a>
              <a href="blog-torrentium.html" class="btn btn--secondary">
                Read: How I Built Torrentium
              </a>
            </div>
          </div>
        </div>

        <!-- Post Footer -->
        <footer class="blog-post__footer">
          <div class="blog-post__share">
            <span>Share this post:</span>
            <div class="blog-post__share-links">
              <a
                href="https://x.com/intent/tweet?text=Understanding%20Distributed%20Hash%20Tables%20(DHT)&url="
                target="_blank"
                rel="noopener"
                aria-label="Share on X"
              >
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
                  />
                </svg>
              </a>
              <a
                href="https://www.linkedin.com/sharing/share-offsite/?url="
                target="_blank"
                rel="noopener"
                aria-label="Share on LinkedIn"
              >
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
                  />
                </svg>
              </a>
            </div>
          </div>
          <a href="blog.html" class="blog-post__all-posts">
            ‚Üê View All Posts
          </a>
        </footer>
      </article>
    </main>

    <footer class="footer container section">
      <h3 class="footer__title">Designed & Built by Khushvendra</h3>
    </footer>

    <script type="module" src="./src/blog-post.js"></script>
  </body>
</html>
